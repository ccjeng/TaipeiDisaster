function isEmpty(e){return"undefined"==typeof e||!e||0===e.length}!function(){var e=angular.module("app",[]);e.controller("GetDisasterSummary",["$scope","$http",function(e,a){e.orderByField="CaseTime",e.reverseSort=!0;var o={zoom:13,center:new google.maps.LatLng(25.0504416,121.5414189),mapTypeId:google.maps.MapTypeId.TERRAIN};e.map=new google.maps.Map(document.getElementById("map"),o),e.markers=[];var t=new google.maps.InfoWindow,n=function(a){var o=new google.maps.Marker({map:e.map,position:new google.maps.LatLng(a.Wgs84Y[0],a.Wgs84X[0]),title:a.PName[0]+" - "+a.Name[0]});o.content='<div class="infoWindowContent">發生時間：'+(isEmpty(d[i].CaseTime)?"":a.CaseTime[0])+"</br>災情地點："+a.CaseLocationDescription[0]+"</br>災情描述："+a.CaseDescription[0]+"</div>","true"===a.CaseComplete[0]&&o.setIcon("http://maps.google.com/mapfiles/ms/icons/green-dot.png"),google.maps.event.addListener(o,"click",function(){t.setContent("<h3>"+o.title+"</h3>"+o.content),t.open(e.map,o)}),e.markers.push(o)};e.openInfoWindow=function(e,a){e.preventDefault(),google.maps.event.trigger(a,"click")},e.total={"路樹災情":0,"民生、基礎設施災情":0,"建物毀損":0,"廣告招牌災情":0,"淹積水災情":0,"其他災情":0,"環境污染":0,"土石災情":0,"道路、隧道災情":0,"水利設施災情":0,"鐵路、高鐵及捷運災情":0,"車輛及交通事故":0},e.doneTotal={"路樹災情":0,"民生、基礎設施災情":0,"建物毀損":0,"廣告招牌災情":0,"淹積水災情":0,"其他災情":0,"環境污染":0,"土石災情":0,"道路、隧道災情":0,"水利設施災情":0,"鐵路、高鐵及捷運災情":0,"車輛及交通事故":0},e.listDistrict=[{name:""},{name:"中正區"},{name:"大同區"},{name:"中山區"},{name:"松山區"},{name:"大安區"},{name:"萬華區"},{name:"信義區"},{name:"士林區"},{name:"北投區"},{name:"內湖區"},{name:"南港區"},{name:"文山區"}],a.get("./data/GetDisasterSummary.json").success(function(a,o,t,m){console.log("call json"),d=a.DataSet["diffgr:diffgram"][0].NewDataSet[0].CASE_SUMMARY,e.cases=d;var l=0,s=0,r=0;for(i=0;i<d.length;i++)n(d[i]),"true"===d[i].CaseComplete[0]?(l+=1,"路樹災情"===d[i].PName[0]&&(e.doneTotal["路樹災情"]+=1),"民生、基礎設施災情"===d[i].PName[0]&&(e.doneTotal["民生、基礎設施災情"]+=1),"建物毀損"===d[i].PName[0]&&(e.doneTotal["建物毀損"]+=1),"廣告招牌災情"===d[i].PName[0]&&(e.doneTotal["廣告招牌災情"]+=1),"淹積水災情"===d[i].PName[0]&&(e.doneTotal["淹積水災情"]+=1),"其他災情"===d[i].PName[0]&&(e.doneTotal["其他災情"]+=1),"土石災情"===d[i].PName[0]&&(e.doneTotal["土石災情"]+=1),"道路、隧道災情"===d[i].PName[0]&&(e.doneTotal["道路、隧道災情"]+=1),"水利設施災情"===d[i].PName[0]&&(e.doneTotal["水利設施災情"]+=1),"鐵路、高鐵及捷運災情"===d[i].PName[0]&&(e.doneTotal["鐵路、高鐵及捷運災情"]+=1),"車輛及交通事故"===d[i].PName[0]&&(e.doneTotal["車輛及交通事故"]+=1)):s+=1,"路樹災情"===d[i].PName[0]&&(e.total["路樹災情"]+=1),"民生、基礎設施災情"===d[i].PName[0]&&(e.total["民生、基礎設施災情"]+=1),"建物毀損"===d[i].PName[0]&&(e.total["建物毀損"]+=1),"廣告招牌災情"===d[i].PName[0]&&(e.total["廣告招牌災情"]+=1),"淹積水災情"===d[i].PName[0]&&(e.total["淹積水災情"]+=1),"其他災情"===d[i].PName[0]&&(e.total["其他災情"]+=1),"土石災情"===d[i].PName[0]&&(e.total["土石災情"]+=1),"道路、隧道災情"===d[i].PName[0]&&(e.total["道路、隧道災情"]+=1),"水利設施災情"===d[i].PName[0]&&(e.total["水利設施災情"]+=1),"鐵路、高鐵及捷運災情"===d[i].PName[0]&&(e.total["鐵路、高鐵及捷運災情"]+=1),"車輛及交通事故"===d[i].PName[0]&&(e.total["車輛及交通事故"]+=1);r=100*l/(l+s),e.caseDone=l,e.caseInProgress=s,e.caseRate=r.toFixed(2)}).error(function(e,a,o,t){console.log("http error")})}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaXNFbXB0eSIsInN0ciIsImxlbmd0aCIsImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJGh0dHAiLCJvcmRlckJ5RmllbGQiLCJyZXZlcnNlU29ydCIsIm1hcE9wdGlvbnMiLCJ6b29tIiwiY2VudGVyIiwiZ29vZ2xlIiwibWFwcyIsIkxhdExuZyIsIm1hcFR5cGVJZCIsIk1hcFR5cGVJZCIsIlRFUlJBSU4iLCJtYXAiLCJNYXAiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibWFya2VycyIsImluZm9XaW5kb3ciLCJJbmZvV2luZG93IiwiY3JlYXRlTWFya2VyIiwiaW5mbyIsIm1hcmtlciIsIk1hcmtlciIsInBvc2l0aW9uIiwiV2dzODRZIiwiV2dzODRYIiwidGl0bGUiLCJQTmFtZSIsIk5hbWUiLCJjb250ZW50IiwiZCIsImkiLCJDYXNlVGltZSIsIkNhc2VMb2NhdGlvbkRlc2NyaXB0aW9uIiwiQ2FzZURlc2NyaXB0aW9uIiwiQ2FzZUNvbXBsZXRlIiwic2V0SWNvbiIsImV2ZW50IiwiYWRkTGlzdGVuZXIiLCJzZXRDb250ZW50Iiwib3BlbiIsInB1c2giLCJvcGVuSW5mb1dpbmRvdyIsImUiLCJzZWxlY3RlZE1hcmtlciIsInByZXZlbnREZWZhdWx0IiwidHJpZ2dlciIsInRvdGFsIiwi6Lev5qi554G95oOFIiwi5rCR55Sf44CB5Z+656SO6Kit5pa954G95oOFIiwi5bu654mp5q+A5pCNIiwi5buj5ZGK5oub54mM54G95oOFIiwi5re556mN5rC054G95oOFIiwi5YW25LuW54G95oOFIiwi55Kw5aKD5rGh5p+TIiwi5Zyf55+z54G95oOFIiwi6YGT6Lev44CB6Zqn6YGT54G95oOFIiwi5rC05Yip6Kit5pa954G95oOFIiwi6ZC16Lev44CB6auY6ZC15Y+K5o236YGL54G95oOFIiwi6LuK6Lyb5Y+K5Lqk6YCa5LqL5pWFIiwiZG9uZVRvdGFsIiwibGlzdERpc3RyaWN0IiwibmFtZSIsImdldCIsInN1Y2Nlc3MiLCJkYXRhIiwic3RhdHVzIiwiaGVhZGVycyIsImNvbmZpZyIsImNvbnNvbGUiLCJsb2ciLCJEYXRhU2V0IiwiTmV3RGF0YVNldCIsImNhc2VzIiwiY2FzZURvbmUiLCJjYXNlSW5Qcm9ncmVzcyIsImNhc2VSYXRlIiwidG9GaXhlZCIsImVycm9yIl0sIm1hcHBpbmdzIjoiQUErTUEsUUFBQUEsU0FBQUMsR0FDQSxNQUFBLG1CQUFBQSxLQUFBQSxHQUFBLElBQUFBLEVBQUFDLFFBL01BLFdBRUEsR0FBQUMsR0FBQUMsUUFBQUMsT0FBQSxTQUVBRixHQUFBRyxXQUFBLHNCQUFBLFNBQUEsUUFBQSxTQUFBQyxFQUFBQyxHQUVBRCxFQUFBRSxhQUFBLFdBQ0FGLEVBQUFHLGFBQUEsQ0FFQSxJQUFBQyxJQUNBQyxLQUFBLEdBQ0FDLE9BQUEsR0FBQUMsUUFBQUMsS0FBQUMsT0FBQSxXQUFBLGFBQ0FDLFVBQUFILE9BQUFDLEtBQUFHLFVBQUFDLFFBRUFaLEdBQUFhLElBQUEsR0FBQU4sUUFBQUMsS0FBQU0sSUFBQUMsU0FBQUMsZUFBQSxPQUFBWixHQUVBSixFQUFBaUIsVUFFQSxJQUFBQyxHQUFBLEdBQUFYLFFBQUFDLEtBQUFXLFdBRUFDLEVBQUEsU0FBQUMsR0FFQSxHQUFBQyxHQUFBLEdBQUFmLFFBQUFDLEtBQUFlLFFBQ0FWLElBQUFiLEVBQUFhLElBQ0FXLFNBQUEsR0FBQWpCLFFBQUFDLEtBQUFDLE9BQUFZLEVBQUFJLE9BQUEsR0FBQUosRUFBQUssT0FBQSxJQUNBQyxNQUFBTixFQUFBTyxNQUFBLEdBQUEsTUFBQVAsRUFBQVEsS0FBQSxJQUlBUCxHQUFBUSxRQUFBLHdDQUFBckMsUUFBQXNDLEVBQUFDLEdBQUFDLFVBQUEsR0FBQVosRUFBQVksU0FBQSxJQUNBLGFBQUFaLEVBQUFhLHdCQUFBLEdBQ0EsYUFBQWIsRUFBQWMsZ0JBQUEsR0FDQSxTQUVBLFNBQUFkLEVBQUFlLGFBQUEsSUFDQWQsRUFBQWUsUUFBQSwwREFHQTlCLE9BQUFDLEtBQUE4QixN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QUVBLFNBQUFqQixFQUFBQyxHQUFBSixNQUFBLEtBQ0E1QixFQUFBZ0QsTUFBQSxTQUFBLEdBRUEsU0FBQWpCLEVBQUFDLEdBQUFKLE1BQUEsS0FDQTVCLEVBQUFnRCxNQUFBLFNBQUEsR0FFQSxZQUFBakIsRUFBQUMsR0FBQUosTUFBQSxLQUNBNUIsRUFBQWdELE1BQUEsWUFBQSxHQUVBLFdBQUFqQixFQUFBQyxHQUFBSixNQUFBLEtBQ0E1QixFQUFBZ0QsTUFBQSxXQUFBLEdBRUEsZUFBQWpCLEVBQUFDLEdBQUFKLE1BQUEsS0FDQTVCLEVBQUFnRCxNQUFBLGVBQUEsR0FFQSxZQUFBakIsRUFBQUMsR0FBQUosTUFBQSxLQUNBNUIsRUFBQWdELE1BQUEsWUFBQSxFQU1BNkIsR0FBQSxJQUFBRixHQUFBQSxFQUFBQyxHQUVBNUUsRUFBQTJFLFNBQUFBLEVBQ0EzRSxFQUFBNEUsZUFBQUEsRUFDQTVFLEVBQUE2RSxTQUFBQSxFQUFBQyxRQUFBLEtBR0FDLE1BQUEsU0FBQWIsRUFBQUMsRUFBQUMsRUFBQUMsR0FFQUMsUUFBQUMsSUFBQSIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4oZnVuY3Rpb24oKXtcblxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXSk7XG5cbmFwcC5jb250cm9sbGVyKCdHZXREaXNhc3RlclN1bW1hcnknLCBbJyRzY29wZScsICckaHR0cCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHApIHtcblxuICAgICRzY29wZS5vcmRlckJ5RmllbGQgPSAnQ2FzZVRpbWUnO1xuICAgICRzY29wZS5yZXZlcnNlU29ydCA9IHRydWU7XG5cbiAgICB2YXIgbWFwT3B0aW9ucyA9IHtcbiAgICAgICAgem9vbTogMTMsXG4gICAgICAgIGNlbnRlcjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZygyNS4wNTA0NDE2LCAxMjEuNTQxNDE4OSksXG4gICAgICAgIG1hcFR5cGVJZDogZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlRFUlJBSU5cbiAgICB9O1xuICAgICRzY29wZS5tYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwgbWFwT3B0aW9ucyk7XG5cbiAgICAkc2NvcGUubWFya2VycyA9IFtdO1xuXG4gICAgdmFyIGluZm9XaW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdygpO1xuXG4gICAgdmFyIGNyZWF0ZU1hcmtlciA9IGZ1bmN0aW9uIChpbmZvKXtcbiAgICAgIFxuICAgICAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgICAgICBtYXA6ICRzY29wZS5tYXAsXG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhpbmZvLldnczg0WVswXSwgaW5mby5XZ3M4NFhbMF0pLFxuICAgICAgICAgICAgdGl0bGU6IGluZm8uUE5hbWVbMF0gKyAnIC0gJysgaW5mby5OYW1lWzBdLFxuICAgICAgICB9KTtcblxuXG4gICAgICAgIG1hcmtlci5jb250ZW50ID0gJzxkaXYgY2xhc3M9XCJpbmZvV2luZG93Q29udGVudFwiPueZvOeUn+aZgumWk++8micgKyAoaXNFbXB0eShkW2ldLkNhc2VUaW1lKSA/ICcnIDogaW5mby5DYXNlVGltZVswXSlcbiAgICAgICAgICArICc8L2JyPueBveaDheWcsOm7nu+8micgKyBpbmZvLkNhc2VMb2NhdGlvbkRlc2NyaXB0aW9uWzBdXG4gICAgICAgICAgKyAnPC9icj7ngb3mg4Xmj4/ov7DvvJonICsgaW5mby5DYXNlRGVzY3JpcHRpb25bMF0gXG4gICAgICAgICAgKyAnPC9kaXY+JztcbiAgICAgICAgXG4gICAgICAgIGlmIChpbmZvLkNhc2VDb21wbGV0ZVswXT09PSd0cnVlJykge1xuICAgICAgICAgIG1hcmtlci5zZXRJY29uKCdodHRwOi8vbWFwcy5nb29nbGUuY29tL21hcGZpbGVzL21zL2ljb25zL2dyZWVuLWRvdC5wbmcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGluZm9XaW5kb3cuc2V0Q29udGVudCgnPGgzPicgKyBtYXJrZXIudGl0bGUgKyAnPC9oMz4nICsgbWFya2VyLmNvbnRlbnQgKTtcbiAgICAgICAgICAgIGluZm9XaW5kb3cub3Blbigkc2NvcGUubWFwLCBtYXJrZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgICAgICAgXG4gICAgfTtcbiAgICBcbiAgICAkc2NvcGUub3BlbkluZm9XaW5kb3cgPSBmdW5jdGlvbihlLCBzZWxlY3RlZE1hcmtlcil7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcihzZWxlY3RlZE1hcmtlciwgJ2NsaWNrJyk7XG4gICAgfTtcblxuXG4gICAgJHNjb3BlLnRvdGFsID0ge1xuICAgICAgJ+i3r+aoueeBveaDhSc6IDAsXG4gICAgICAn5rCR55Sf44CB5Z+656SO6Kit5pa954G95oOFJzogMCxcbiAgICAgICflu7rnianmr4DmkI0nOiAwLFxuICAgICAgJ+W7o+WRiuaLm+eJjOeBveaDhSc6IDAsXG4gICAgICAn5re556mN5rC054G95oOFJzogMCxcbiAgICAgICflhbbku5bngb3mg4UnOiAwLFxuICAgICAgJ+eSsOWig+axoeafkyc6IDAsXG4gICAgICAn5Zyf55+z54G95oOFJzogMCxcbiAgICAgICfpgZPot6/jgIHpmqfpgZPngb3mg4UnOiAwLFxuICAgICAgJ+awtOWIqeioreaWveeBveaDhSc6IDAsXG4gICAgICAn6ZC16Lev44CB6auY6ZC15Y+K5o236YGL54G95oOFJzogMCxcbiAgICAgICfou4rovJvlj4rkuqTpgJrkuovmlYUnOiAwXG4gICAgfTtcblxuICAgICRzY29wZS5kb25lVG90YWwgPSB7XG4gICAgICAn6Lev5qi554G95oOFJzogMCxcbiAgICAgICfmsJHnlJ/jgIHln7rnpI7oqK3mlr3ngb3mg4UnOiAwLFxuICAgICAgJ+W7uueJqeavgOaQjSc6IDAsXG4gICAgICAn5buj5ZGK5oub54mM54G95oOFJzogMCxcbiAgICAgICfmt7nnqY3msLTngb3mg4UnOiAwLFxuICAgICAgJ+WFtuS7lueBveaDhSc6IDAsXG4gICAgICAn55Kw5aKD5rGh5p+TJzogMCxcbiAgICAgICflnJ/nn7Pngb3mg4UnOiAwLFxuICAgICAgJ+mBk+i3r+OAgemap+mBk+eBveaDhSc6IDAsXG4gICAgICAn5rC05Yip6Kit5pa954G95oOFJzogMCxcbiAgICAgICfpkLXot6/jgIHpq5jpkLXlj4rmjbfpgYvngb3mg4UnOiAwLFxuICAgICAgJ+i7iui8m+WPiuS6pOmAmuS6i+aVhSc6IDBcbiAgICB9O1xuXG4gICAgJHNjb3BlLmxpc3REaXN0cmljdCA9IFtcbiAgICAgICAge25hbWU6ICcnfSxcbiAgICAgICAge25hbWU6ICfkuK3mraPljYAnfSxcbiAgICAgICAge25hbWU6ICflpKflkIzljYAnfSxcbiAgICAgICAge25hbWU6ICfkuK3lsbHljYAnfSxcbiAgICAgICAge25hbWU6ICfmnb7lsbHljYAnfSxcbiAgICAgICAge25hbWU6ICflpKflronljYAnfSxcbiAgICAgICAge25hbWU6ICfokKzoj6/ljYAnfSxcbiAgICAgICAge25hbWU6ICfkv6HnvqnljYAnfSxcbiAgICAgICAge25hbWU6ICflo6vmnpfljYAnfSxcbiAgICAgICAge25hbWU6ICfljJfmipXljYAnfSxcbiAgICAgICAge25hbWU6ICflhafmuZbljYAnfSxcbiAgICAgICAge25hbWU6ICfljZfmuK/ljYAnfSxcbiAgICAgICAge25hbWU6ICfmloflsbHljYAnfVxuICAgIF07ICAgXG5cbiAgICAvLyRodHRwLmdldCgnaHR0cHM6Ly90Y2didXNmcy5ibG9iLmNvcmUud2luZG93cy5uZXQvYmxvYmZzL0dldERpc2FzdGVyU3VtbWFyeS5qc29uJylcbiAgICAkaHR0cC5nZXQoJy4vZGF0YS9HZXREaXNhc3RlclN1bW1hcnkuanNvbicpXG4gICAgXG4gICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdjYWxsIGpzb24nKTtcblxuICAgICAgZCA9IGRhdGEuRGF0YVNldFsnZGlmZmdyOmRpZmZncmFtJ11bMF0uTmV3RGF0YVNldFswXVsnQ0FTRV9TVU1NQVJZJ107XG4gICAgICAkc2NvcGUuY2FzZXMgPSBkOyAvL2RhdGEuRGF0YVNldFsnZGlmZmdyOmRpZmZncmFtJ11bMF0uTmV3RGF0YVNldFswXVsnQ0FTRV9TVU1NQVJZJ107XG5cbiAgICAgIHZhciBjYXNlRG9uZSA9IDAsIGNhc2VJblByb2dyZXNzID0gMCwgY2FzZVJhdGUgPSAwLjAwO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGQubGVuZ3RoOyBpKyspe1xuICAgICAgICBjcmVhdGVNYXJrZXIoZFtpXSk7XG4gICAgICAgIGlmIChkW2ldLkNhc2VDb21wbGV0ZVswXT09PSd0cnVlJykge1xuICAgICAgICAgICAgY2FzZURvbmUgPSBjYXNlRG9uZSArIDE7XG5cbiAgICAgICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+i3r+aoueeBveaDhScpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRvbmVUb3RhbFsn6Lev5qi554G95oOFJ10gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+awkeeUn+OAgeWfuuekjuioreaWveeBveaDhScpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRvbmVUb3RhbFsn5rCR55Sf44CB5Z+656SO6Kit5pa954G95oOFJ10gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+W7uueJqeavgOaQjScpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRvbmVUb3RhbFsn5bu654mp5q+A5pCNJ10gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+W7o+WRiuaLm+eJjOeBveaDhScpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRvbmVUb3RhbFsn5buj5ZGK5oub54mM54G95oOFJ10gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+a3ueepjeawtOeBveaDhScpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRvbmVUb3RhbFsn5re556mN5rC054G95oOFJ10gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+WFtuS7lueBveaDhScpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRvbmVUb3RhbFsn5YW25LuW54G95oOFJ10gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+Wcn+efs+eBveaDhScpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRvbmVUb3RhbFsn5Zyf55+z54G95oOFJ10gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+mBk+i3r+OAgemap+mBk+eBveaDhScpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRvbmVUb3RhbFsn6YGT6Lev44CB6Zqn6YGT54G95oOFJ10gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+awtOWIqeioreaWveeBveaDhScpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRvbmVUb3RhbFsn5rC05Yip6Kit5pa954G95oOFJ10gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+mQtei3r+OAgemrmOmQteWPiuaNt+mBi+eBveaDhScpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRvbmVUb3RhbFsn6ZC16Lev44CB6auY6ZC15Y+K5o236YGL54G95oOFJ10gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+i7iui8m+WPiuS6pOmAmuS6i+aVhScpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRvbmVUb3RhbFsn6LuK6Lyb5Y+K5Lqk6YCa5LqL5pWFJ10gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgY2FzZUluUHJvZ3Jlc3MgPSBjYXNlSW5Qcm9ncmVzcyArIDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZFtpXS5QTmFtZVswXT09PSfot6/mqLnngb3mg4UnKSB7XG4gICAgICAgICAgJHNjb3BlLnRvdGFsWyfot6/mqLnngb3mg4UnXSArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+awkeeUn+OAgeWfuuekjuioreaWveeBveaDhScpIHtcbiAgICAgICAgICAkc2NvcGUudG90YWxbJ+awkeeUn+OAgeWfuuekjuioreaWveeBveaDhSddICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRbaV0uUE5hbWVbMF09PT0n5bu654mp5q+A5pCNJykge1xuICAgICAgICAgICRzY29wZS50b3RhbFsn5bu654mp5q+A5pCNJ10gKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZFtpXS5QTmFtZVswXT09PSflu6PlkYrmi5vniYzngb3mg4UnKSB7XG4gICAgICAgICAgJHNjb3BlLnRvdGFsWyflu6PlkYrmi5vniYzngb3mg4UnXSArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+a3ueepjeawtOeBveaDhScpIHtcbiAgICAgICAgICAkc2NvcGUudG90YWxbJ+a3ueepjeawtOeBveaDhSddICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRbaV0uUE5hbWVbMF09PT0n5YW25LuW54G95oOFJykge1xuICAgICAgICAgICRzY29wZS50b3RhbFsn5YW25LuW54G95oOFJ10gKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZFtpXS5QTmFtZVswXT09PSflnJ/nn7Pngb3mg4UnKSB7XG4gICAgICAgICAgJHNjb3BlLnRvdGFsWyflnJ/nn7Pngb3mg4UnXSArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+mBk+i3r+OAgemap+mBk+eBveaDhScpIHtcbiAgICAgICAgICAkc2NvcGUudG90YWxbJ+mBk+i3r+OAgemap+mBk+eBveaDhSddICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRbaV0uUE5hbWVbMF09PT0n5rC05Yip6Kit5pa954G95oOFJykge1xuICAgICAgICAgICRzY29wZS50b3RhbFsn5rC05Yip6Kit5pa954G95oOFJ10gKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZFtpXS5QTmFtZVswXT09PSfpkLXot6/jgIHpq5jpkLXlj4rmjbfpgYvngb3mg4UnKSB7XG4gICAgICAgICAgJHNjb3BlLnRvdGFsWyfpkLXot6/jgIHpq5jpkLXlj4rmjbfpgYvngb3mg4UnXSArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkW2ldLlBOYW1lWzBdPT09J+i7iui8m+WPiuS6pOmAmuS6i+aVhScpIHtcbiAgICAgICAgICAkc2NvcGUudG90YWxbJ+i7iui8m+WPiuS6pOmAmuS6i+aVhSddICs9IDE7XG4gICAgICAgIH1cblxuXG4gICAgICB9XG5cbiAgICAgIGNhc2VSYXRlID0gMTAwICogY2FzZURvbmUgLyAoY2FzZURvbmUgKyBjYXNlSW5Qcm9ncmVzcylcblxuICAgICAgJHNjb3BlLmNhc2VEb25lID0gY2FzZURvbmU7XG4gICAgICAkc2NvcGUuY2FzZUluUHJvZ3Jlc3MgPSBjYXNlSW5Qcm9ncmVzcztcbiAgICAgICRzY29wZS5jYXNlUmF0ZSA9IGNhc2VSYXRlLnRvRml4ZWQoMik7XG5cbiAgICB9KVxuICAgIC5lcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgLy8gbG9nIGVycm9yXG4gICAgICBjb25zb2xlLmxvZygnaHR0cCBlcnJvcicpO1xuICAgIH0pO1xuXG5cbn1dKTtcblxufSkoKTtcblxuXG5mdW5jdGlvbiBpc0VtcHR5KHN0cikge1xuICAgIHJldHVybiAoKHR5cGVvZiBzdHIgPT0gJ3VuZGVmaW5lZCcpfHwgIXN0ciB8fCAwID09PSBzdHIubGVuZ3RoKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==